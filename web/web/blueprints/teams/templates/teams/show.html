{% extends "layouts/base.html" %}

{% block title %}Score: {{ team.name }}{% endblock %}

{% block content %}
<button class="btn btn-primary mb-2" onclick="location.reload()">Reload results</button>
<!--<div class="progress">
    <div class="progress-bar" role="progressbar" style="width: 33%;" aria-valuenow="1" aria-valuemin="0" aria-valuemax="3">Currently Passing 1 attack of 3</div>
</div>-->
<table class="table table-with-children">
    <thead>
      <tr>
        <th scope="col">Attack</th>
        <th scope="col">Status</th>
        <th scope="col">Last Passed</th>
      </tr>
    </thead>
    <tbody>
      {% for result in results %}
      <tr data-toggle="collapse" data-target="#row{{ result.id }}">
        <th scope="row">
            {{ result.attack.name }}
        </th>
        <td>{{ "Passing" if result.passed == True else "Failing"}}</td>
        <td style="text-align:center;"><span style="color:gray">&ndash;</span></td>
      </tr>
      <tr id="row{{ result.id }}" class="collapse table-secondary">
        <td>
          <a style="display:block;" href="{{ url_for('attacks.show', attack_id=result.attack.id) }}">
            View attack
          </a>
        </td>
        <td colspan="2"><strong>Output:</strong> {{ result.output }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

{% endblock %}
